# Airflow + Logistic Regression Pipeline

> **–ü—Ä–æ —á—Ç–æ —ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
> –®–∞–±–ª–æ–Ω —Ä–µ–ø–ª–∏–∫–∞–±–µ–ª—å–Ω–æ–≥–æ ML-–ø–∞–π–ø–ª–∞–π–Ω–∞ c ETL -> –æ–±—É—á–µ–Ω–∏–µ–º -> —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ–º –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤, –æ—Ä–∫–µ—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ Apache Airflow.
> –í –¥–µ–º–æ-—Ä–µ–∂–∏–º–µ –∫–∞—á–∞–µ–º –Ω–µ–±–æ–ª—å—à–æ–π CSV, –æ–±—É—á–∞–µ–º `LogisticRegression`, —Å—á–∏—Ç–∞–µ–º –º–µ—Ç—Ä–∏–∫–∏ –∏ —Å–∫–ª–∞–¥—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ GCS **–∏/–∏–ª–∏** –≤ `results/`.
> –•–æ—Ç–∏—Ç–µ —Å–≤–æ–π –¥–∞—Ç–∞—Å–µ—Ç / –º–æ–¥–µ–ª—å ‚Äî –º–µ–Ω—è–µ—Ç–µ –ø–∞—Ä—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –∏ —à–∞–±–ª–æ–Ω –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –≤–∞—à —Ä–∞–±–æ—á–∏–π –ø—Ä–æ–µ–∫—Ç.

---

## üóÇÔ∏è –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [Airflow + Logistic Regression Pipeline](#airflow--logistic-regression-pipeline)
  - [üóÇÔ∏è –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](#Ô∏è-—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)
  - [üéØ –¶–µ–ª–∏ –∏ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è](#-—Ü–µ–ª–∏-–∏-–¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è)
  - [üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å—Ö–µ–º–∞ –ø–∞–π–ø–ª–∞–π–Ω–∞](#Ô∏è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∏-—Å—Ö–µ–º–∞-–ø–∞–π–ø–ª–∞–π–Ω–∞)
  - [üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
  - [‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#Ô∏è-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
  - [üöÄ –ó–∞–ø—É—Å–∫](#-–∑–∞–ø—É—Å–∫)
    - [–õ–æ–∫–∞–ª—å–Ω–æ (`make`)](#–ª–æ–∫–∞–ª—å–Ω–æ-make)
    - [Docker + Airflow](#docker--airflow)
  - [üõ†Ô∏è –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π](#Ô∏è-–æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö-—Ä–µ—à–µ–Ω–∏–π)
  - [‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã](#Ô∏è-–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã)
  - [üí° –ò–¥–µ–∏ –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è](#-–∏–¥–µ–∏-–¥–ª—è-—Ä–∞–∑–≤–∏—Ç–∏—è)
  - [Proofs](#proofs)

---

## üéØ –¶–µ–ª–∏ –∏ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è

* **ML-–∑–∞–¥–∞—á–∞** ‚Äî –¥–≤–æ–∏—á–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è: –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –æ–±—ä–µ–∫—Ç–∞ –∫ –∫–ª–∞—Å—Å—É `1`/`0` –ø–æ –Ω–∞–±–æ—Ä—É –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.
  –í –ø—Ä–∏–º–µ—Ä–µ ‚Äî –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –¥–∞—Ç–∞—Å–µ—Ç, –Ω–æ –ø–∞–π–ø–ª–∞–π–Ω –Ω–µ–∑–∞–≤–∏—Å–∏–º –æ—Ç –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏.

* **–¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞**

  1. **ETL** : –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—ã—Ä–æ–π CSV, –æ—á–∏—Å—Ç–∏—Ç—å/–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.
  2. **ML-Ops** : –æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å, –ø–æ—Å—á–∏—Ç–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏, –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã.
  3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** : –≤—ã–≥—Ä—É–∑–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–æ –≤–Ω–µ—à–Ω–∏–π Storage (GCS) + —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ; –æ–±–µ—Å–ø–µ—á–∏—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å –∫–æ–¥–∞, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ DAG.

* **–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è —ç—Ç–∞–ø–æ–≤**

| –≠—Ç–∞–ø           | –°–∫—Ä–∏–ø—Ç (–º–æ–¥—É–ª—å)         | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                              |
| -------------- | ----------------------- | ----------------------------------------------------------------------- |
| **Load**       | `etl/load_data.py`      | –°–∫–∞—á–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π CSV –∏ —Å–ª–æ–∂–∏—Ç—å –≤ `results/raw_data.csv`.                |
| **Preprocess** | `etl/preprocess.py`     | –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –∫–æ–ª–æ–Ω–∫–∏, –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–æ–≤–∞—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–∏.         |
| **Train**      | `etl/train_model.py`    | –û–±—É—á–∏—Ç—å `LogisticRegression`, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å `model.pkl`.                    |
| **Evaluate**   | `etl/evaluate.py`       | –ü–æ—Å—á–∏—Ç–∞—Ç—å Accuracy / Precision / Recall / F1, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å `metrics.json`. |
| **Upload**     | `etl/upload_results.py` | –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ `results/` –≤ GCS (–µ—Å–ª–∏ –∑–∞–¥–∞–Ω –±–∞–∫–µ—Ç).             |

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å—Ö–µ–º–∞ –ø–∞–π–ø–ª–∞–π–Ω–∞

```text
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  load_data       ‚îÇ  (PythonOperator)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ raw_data.csv
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  preprocess      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ data_prepared.csv
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  train_model     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ model.pkl
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  evaluate        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ metrics.json
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  upload_results  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

* **DAG-id**: `breast_cancer_pipeline`
* **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫**: `schedule_interval` —á–∏—Ç–∞–µ—Ç—Å—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `PIPELINE_SCHEDULE`
  (`None` -> —Ç–æ–ª—å–∫–æ —Ä—É—á–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏; –ø—Ä–∏–º–µ—Ä CRON ‚Äî `0 3 * * *`)

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
‚îú‚îÄ‚îÄ dags/                # DAG Airflow ¬´breast_cancer_pipeline¬ª
‚îú‚îÄ‚îÄ etl/                 # –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –º–æ–¥—É–ª–∏: load -> preprocess -> train -> evaluate -> upload
‚îú‚îÄ‚îÄ results/             # –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (csv / pkl / json) –∫–ª–∞–¥—É—Ç—Å—è —Å—é–¥–∞
‚îú‚îÄ‚îÄ logs/                # runtime-–ª–æ–≥–∏ (pipeline.log)
‚îú‚îÄ‚îÄ proofs/              # —Å–∫—Ä–∏–Ω—à–æ—Ç—ã UI / GCS (–¥–ª—è –æ—Ç—á—ë—Ç–∞)
‚îú‚îÄ‚îÄ keys/                # GCP service-account json
‚îú‚îÄ‚îÄ docker-compose.yml   # webserver + scheduler
‚îú‚îÄ‚îÄ Dockerfile           # –æ–±—Ä–∞–∑ —Å–æ –≤—Å–µ–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ makefile             # –ª–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ Docker/Airflow
‚îú‚îÄ‚îÄ .env                 # –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ README.md            # —Ç–µ–∫—É—â–∏–π —Ñ–∞–π–ª
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

| –ö–ª—é—á                             | –ì–¥–µ –∑–∞–¥–∞—ë—Ç—Å—è                  | –ß—Ç–æ –≤—Å—Ç–∞–≤–∏—Ç—å                                                                             |
| -------------------------------- | ----------------------------- | ---------------------------------------------------------------------------------------- |
| `VENV`                           | `makefile`                    | –ü—É—Ç—å –¥–æ –≤–∞—à–µ–≥–æ venv (–∏–ª–∏ –Ω–µ –º–µ–Ω—è–π—Ç–µ ‚Äî —Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏).                          |
| `GCP_PROJECT`                    | `.env`                        | ID –ø—Ä–æ–µ–∫—Ç–∞ Google Cloud.                                                                 |
| `GCS_BUCKET`                     | `.env`                        | –ò–º—è –±–∞–∫–µ—Ç–∞, –∫—É–¥–∞ –≥—Ä—É–∑–∏–º –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã.                                                       |
| `GCS_PREFIX`                     | `.env`                        | –ü—É—Ç—å-–ø—Ä–µ—Ñ–∏–∫—Å –≤–Ω—É—Ç—Ä–∏ –±–∞–∫–µ—Ç–∞ *(–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `breast_cancer/`)*.                            |
| `GOOGLE_APPLICATION_CREDENTIALS` | `.env` –∏ `docker-compose.yml` | –ü—É—Ç—å –∫ JSON-–∫–ª—é—á—É service-account. –ú–æ–∂–Ω–æ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π ‚Äî –∫–æ–¥ —Å–∞–º –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –∞–±—Å–æ–ª—é—Ç–Ω–æ–º—É. |
| `PIPELINE_SCHEDULE`              | `.env`                        | CRON-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è DAG (–ø—É—Å—Ç–æ -> –±–µ–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è, —Ç–æ–ª—å–∫–æ —Ä—É—á–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏).                  |

**–ù–µ–æ—á–µ–≤–∏–¥–Ω—ã–µ ¬´—Ö–∞—Ä–¥–∫–æ–¥—ã¬ª**

* `dags/pipeline_dag.py` -> `start_date=datetime(2025, 1, 1)`
* `etl/config.py` -> URL –¥–∞—Ç–∞—Å–µ—Ç–∞ –ø—Ä–∏–º–µ—Ä–∞
* Airflow –≤ Docker –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **SQLite** –∏ **SequentialExecutor** ‚Äî –æ–∫ –¥–ª—è dev ***–Ω–µ*** –¥–ª—è prod.

---

## üöÄ –ó–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω–æ (`make`)

```bash
make setup   # —Å–æ–∑–¥–∞—Ç—å venv + pip install -r requirements.txt
make run     # –ø—Ä–æ–≥–æ–Ω –≤—Å–µ–≥–æ —Ü–µ–ø–æ—á–∫–∏, –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –≤ results/, –ª–æ–≥–∏ –≤ logs/
```

### Docker + Airflow

```bash
# 1. –ø—Ä–æ–ø–∏—à–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ .env –∏ –ø–æ–ª–æ–∂–∏—Ç–µ –∫–ª—é—á json –≤ keys/
docker compose up --build
```

* UI Airflow: [http://localhost:8080](http://localhost:8080) ‚Äî –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å `admin` / `admin`.
* –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ DAG *breast\_cancer\_pipeline* –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ ¬´Run¬ª.

---

## üõ†Ô∏è –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π

* **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** ‚Äî –∫–∞–∂–¥—ã–π —à–∞–≥ ETL —Ä–∞–∑–¥–µ–ª—ë–Ω –Ω–∞ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–π Python-–º–æ–¥—É–ª—å: –ª–µ–≥–∫–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏–∑ Airflow, CLI, CI-—Å–∫—Ä–∏–ø—Ç–æ–≤.
* **Single Responsibility**: —Å–∫—Ä–∏–ø—Ç—ã –¥–µ–ª–∞—é—Ç —Ä–æ–≤–Ω–æ –æ–¥–Ω—É –≤–µ—â—å; –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞.
* **–û–û–° —Ö—Ä–∞–Ω–µ–Ω–∏—è** ‚Äî –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –≤—Å–µ–≥–¥–∞ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ -> –±—ã—Å—Ç—Ä—ã–π –¥–µ–±–∞–≥ –¥–∞–∂–µ –±–µ–∑ –æ–±–ª–∞–∫–∞.
* **.env + docker-compose** ‚Äî –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ, –º–∏–Ω–∏–º—É–º –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø—É—Ç–µ–π.
* **–õ—ë–≥–∫–∏–π –≤—Ö–æ–¥** ‚Äî Makefile –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ –Ω–µ —Ö–æ—á–µ—Ç (–ø–æ–∫–∞) —Å—Ç–∞–≤–∏—Ç—å Airflow, –∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π Docker-—Å—Ç–µ–∫ –¥–ª—è –∫–æ–º–∞–Ω–¥–Ω–æ–π —Ä–∞–±–æ—Ç—ã/CI.
* **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ –≤ `logger_setup.py`; –ª–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –∏ –≤ —Ñ–∞–π–ª, –∏ –≤ stdout.

---

## ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

* **load\_data** ‚Äî —Å–µ—Ç–µ–≤–æ–π —Ç–∞–π–º–∞—É—Ç / 404; –Ω—É–∂–Ω–æ retry —Å back-off.
* **preprocess** ‚Äî –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ NaN / –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã CSV; —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é.
* **train\_model** ‚Äî `ConvergenceWarning`; —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º `max_iter` –∏–ª–∏ –º–µ–Ω—è–µ–º solver.
* **upload\_results**

  * `DefaultCredentialsError` ‚Äî –Ω–µ –Ω–∞–π–¥–µ–Ω –∫–ª—é—á.
  * 403 ¬´Billing account disabled¬ª ‚Äî –∑–∞–∫—Ä—ã—Ç –∞–∫–∫–∞—É–Ω—Ç –∏–ª–∏ –Ω–µ—Ç IAM-–ø—Ä–∞–≤.
* **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Airflow**

  * –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **SQLite** –∫–∞–∫ metadata-–ë–î ‚Äî –¥–æ–ø—É—Å—Ç–∏–º–æ —Ç–æ–ª—å–∫–æ –¥–ª—è dev. –í –ø—Ä–æ–¥–µ -> PostgreSQL.
  * **SequentialExecutor** ‚Äî –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω—ã–π; –≤ –ø—Ä–æ–¥–µ –≤—ã–±–∏—Ä–∞–π—Ç–µ `LocalExecutor`/`CeleryExecutor`/`KubernetesExecutor`.

---

## üí° –ò–¥–µ–∏ –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è

1. –•—Ä–∞–Ω–∏—Ç—å –ª–æ–≥–∏ –ø–æ `pipeline_<dag_run_id>.log`, –æ—Ç–≥—Ä—É–∂–∞—Ç—å –≤ S3 / Stackdriver.
2. –î–æ–±–∞–≤–∏—Ç—å Data-quality-—Ç–µ—Å—Ç—ã (`great_expectations`, `pandera`).
3. –ü–æ–∫—Ä—ã—Ç—å ETL unit-—Ç–µ—Å—Ç–∞–º–∏ (`pytest`).
4. CI/CD ‚Äî –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π DAG —á–µ—Ä–µ–∑ GitHub Actions + Helm-chart.
5. –î–∞—à–±–æ—Ä–¥—ã –≤ Grafana (–º–µ—Ç—Ä–∏–∫–∏, –≤—Ä–µ–º—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è, –æ—à–∏–±–∫–∏).

---

## Proofs

| –°–∫—Ä–∏–Ω                             | –û–ø–∏—Å–∞–Ω–∏–µ                                |
| --------------------------------- | --------------------------------------- |
| ![](proofs/GCP_bucket_upload.png) | –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –≤ GCS –ø–æ—Å–ª–µ `upload_results`. |
| ![](proofs/GCP_dag_graph.png)     | –ì—Ä–∞—Ñ –∑–∞–¥–∞—á–∏ –≤ UI Airflow.               |

---
